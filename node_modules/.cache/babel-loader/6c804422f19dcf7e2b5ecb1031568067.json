{"ast":null,"code":"var _jsxFileName = \"/Users/Hedi/Documents/S/WS20:21/Study/src/components/emailClient.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport AllInbox from \"./allInbox\";\nimport SpamInbox from \"./spamInbox\";\nimport BinInbox from \"./binInbox\";\nimport ImportantInbox from \"./importantInbox\";\nimport Button from \"@material-ui/core/Button\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InboxIcon from \"@material-ui/icons/Inbox\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport Inbox from \"./emailsToImplement.js\";\nimport Badge from \"@material-ui/core/Badge\";\nimport \"./EmailClient.css\";\nimport ProfileBox from \"./ProfileBox\";\n\nclass EmailClient extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentInbox: \"AllInbox\",\n      inbox: Inbox,\n      mailNrBadge: 0,\n      alerted: false,\n      allInboxEmpty: false,\n      mailTime: [],\n      timeCount: 0\n    };\n\n    this.shuffleArray = a => {\n      var j, x, i;\n\n      for (i = a.length - 1; i > 0; i--) {\n        j = Math.floor(Math.random() * (i + 1));\n        x = a[i];\n        a[i] = a[j];\n        a[j] = x;\n      }\n\n      return a;\n    };\n\n    this.componentWillMount = () => {\n      let copy = this.state;\n      let usersInbox = [];\n      copy.inbox.map(email => {\n        if (email.visible) usersInbox.push(email);\n      });\n      usersInbox.map(email => {\n        email[\"type\"] = \"AllInbox\";\n      });\n      this.shuffleArray(usersInbox);\n      copy.inbox = usersInbox;\n      this.setState(copy);\n      this.countEmails();\n    };\n\n    this.getAllInboxLength = () => {\n      var counter2 = 0;\n      this.state.inbox.forEach(element => {\n        if (element.type === \"AllInbox\") {\n          counter2++;\n        } else {\n          return;\n        }\n      });\n\n      if (counter2 === 0) {\n        let copy = this.state;\n        copy.allInboxEmpty = true;\n        this.setState(copy);\n      }\n    };\n\n    this.handleIncomingEvent = event => {\n      let copy = this.state;\n      copy.events.push(event);\n      this.setState(copy);\n    };\n\n    this.onMoveToSpam = emailID => {\n      let copy = this.state;\n      copy.inbox.map(email => {\n        if (email.mail.defaultProps.keyID === emailID) email.type = \"SpamInbox\";\n      });\n      this.props.clickedButton(\"SpamInboxButtonClicked\", \"InMoveToSpamButton\");\n      this.setState(copy);\n      this.getAllInboxLength();\n      this.forceUpdate();\n    };\n\n    this.onMoveToBin = emailID => {\n      let copy = this.state;\n      copy.inbox.map(email => {\n        if (email.mail.defaultProps.keyID === emailID) email.type = \"BinInbox\";\n      });\n      this.props.clickedButton(\"BinInboxButtonClicked\", \"InMoveToBinButton\");\n      this.setState(copy);\n      this.getAllInboxLength();\n      this.forceUpdate();\n    };\n\n    this.onMoveToImportant = emailID => {\n      let copy = this.state;\n      copy.inbox.map(email => {\n        if (email.mail.defaultProps.keyID === emailID) email.type = \"ImportantInbox\";\n      });\n      this.props.clickedButton(\"ImportantInboxButtonClicked\", \"InMoveToImportantButton\");\n      this.setState(copy);\n      this.getAllInboxLength();\n      this.forceUpdate();\n    };\n\n    this.countEmails = () => {\n      let counter = 0;\n      this.state.inbox.forEach(element => {\n        counter = element.mail.defaultProps.unseen === true ? counter + 1 : counter;\n      });\n      let copy = this.state;\n      copy.mailNrBadge = counter;\n\n      if (counter === 0 && this.state.alerted === false) {\n        alert(\"You have viewed all Emails\");\n        copy.alerted = true;\n      }\n\n      this.setState(copy);\n    };\n\n    this.handleInboxChange = whichInbox => {\n      let copy = this.state;\n      copy.currentInbox = whichInbox;\n      copy.currentEmail = undefined;\n      this.setState(copy);\n    };\n\n    this.handleNewEmail = emailNr => {\n      this.props.onNewEmail(emailNr);\n      this.state.inbox.forEach(element => {\n        if (element.mail.defaultProps.keyID === emailNr) {\n          let index = this.state.inbox.indexOf(element);\n          let copy = this.state.inbox;\n          copy[index].mail.defaultProps.unseen = false;\n          this.setState({\n            inbox: copy\n          });\n        }\n      });\n      this.countEmails();\n    };\n\n    this.updateInboxResult = () => {\n      const updatedInbox = this.state.inbox.map(mailObject => {\n        const mailTimeSpent = this.state.mailTime.find(mailt => mailObject.mail.defaultProps.keyID === mailt.keyID);\n\n        if (mailTimeSpent) {\n          return { ...mailObject,\n            timeSpent: mailTimeSpent.timeSpent\n          };\n        } else {\n          return { ...mailObject,\n            timeSpent: 0\n          };\n        }\n      }); // Now send it back to where it was previously sending i.e: to store on server\n\n      this.props.setInboxResult(updatedInbox);\n    };\n\n    this.countTime = mail => {\n      const existingMailTime = this.state.mailTime.find(stateMail => stateMail.keyID === mail.keyID);\n\n      if (existingMailTime) {\n        // If an existing EMail is opened then continue from where previously left\n        this.setState(state => {\n          const mailTime = state.mailTime.map(stateMail => {\n            if (stateMail.keyID === mail.keyID) {\n              return { ...stateMail,\n                timeSpent: stateMail.timeSpent + 1\n              };\n            } else {\n              return stateMail;\n            }\n          });\n          return {\n            mailTime\n          };\n        });\n      } else {\n        // If a new EMail is opened\n        this.setState(state => ({\n          mailTime: [...state.mailTime, {\n            keyID: mail.keyID,\n            timeSpent: state.timeCount + 1\n          }]\n        }));\n      }\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    const currentInbox = this.state.currentInbox;\n    let inbox;\n\n    if (currentInbox === \"BinInbox\") {\n      inbox = /*#__PURE__*/React.createElement(BinInbox, {\n        inEmailScrollAmount: this.props.inEmailScrollAmount,\n        Mails: this.state.inbox,\n        onMoveToSpam: this.onMoveToSpam,\n        onMoveToBin: this.onMoveToBin,\n        onMoveToImportant: this.onMoveToImportant,\n        onNewEmail: this.handleNewEmail,\n        Recipient: this.props.UserInfo.emailAdress,\n        userName: this.props.UserInfo.userName,\n        insideEmailInfo: this.props.insideEmailInfo,\n        inEmailText: this.props.inEmailText,\n        outsideEmailInfo: this.props.outsideEmailInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }\n      });\n    } else if (currentInbox === \"AllInbox\") {\n      inbox = /*#__PURE__*/React.createElement(AllInbox, {\n        inEmailScrollAmount: this.props.inEmailScrollAmount,\n        Mails: this.state.inbox,\n        onMoveToSpam: this.onMoveToSpam,\n        onMoveToBin: this.onMoveToBin,\n        onMoveToImportant: this.onMoveToImportant,\n        onNewEmail: this.handleNewEmail,\n        Recipient: this.props.UserInfo.emailAdress,\n        userName: this.props.UserInfo.userName,\n        insideEmailInfo: this.props.insideEmailInfo,\n        inEmailText: this.props.inEmailText,\n        outsideEmailInfo: this.props.outsideEmailInfo,\n        timeCount: this.countTime,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 9\n        }\n      });\n    } else if (currentInbox === \"SpamInbox\") {\n      inbox = /*#__PURE__*/React.createElement(SpamInbox, {\n        inEmailScrollAmount: this.props.inEmailScrollAmount,\n        Mails: this.state.inbox,\n        onMoveToSpam: this.onMoveToSpam,\n        onMoveToBin: this.onMoveToBin,\n        onMoveToImportant: this.onMoveToImportant,\n        onNewEmail: this.handleNewEmail,\n        Recipient: this.props.UserInfo.emailAdress,\n        userName: this.props.UserInfo.userName,\n        insideEmailInfo: this.props.insideEmailInfo,\n        inEmailText: this.props.inEmailText,\n        outsideEmailInfo: this.props.outsideEmailInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 9\n        }\n      });\n    } else if (currentInbox === \"ImportantInbox\") {\n      inbox = /*#__PURE__*/React.createElement(ImportantInbox, {\n        inEmailScrollAmount: this.props.inEmailScrollAmount,\n        Mails: this.state.inbox,\n        onMoveToSpam: this.onMoveToSpam,\n        onMoveToBin: this.onMoveToBin,\n        onMoveToImportant: this.onMoveToImportant,\n        onNewEmail: this.handleNewEmail,\n        Recipient: this.props.UserInfo.emailAdress,\n        userName: this.props.UserInfo.userName,\n        insideEmailInfo: this.props.insideEmailInfo,\n        inEmailText: this.props.inEmailText,\n        outsideEmailInfo: this.props.outsideEmailInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entireClient\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"HeaderInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }\n    }, \"Welcome to your Email Client, \", this.props.UserInfo.userName), /*#__PURE__*/React.createElement(ProfileBox, {\n      className: \"ProfileBox\",\n      setInboxResult: () => this.updateInboxResult(),\n      allInboxEmpty: this.state.allInboxEmpty,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"nav-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/EmailClient/AllMails\",\n      onClick: () => {\n        this.handleInboxChange(\"AllInbox\");\n        this.props.onNewInbox(\"AllInbox\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"button-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Badge, {\n      badgeContent: this.state.mailNrBadge,\n      color: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: \"200px\",\n        height: \"50px\"\n      },\n      variant: \"outlined\",\n      color: currentInbox === \"AllInbox\" ? \"primary\" : \"\",\n      startIcon: /*#__PURE__*/React.createElement(InboxIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 32\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 19\n      }\n    }, \"All Mail\")))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/EmailClient/ImportantInbox\",\n      onClick: () => {\n        this.handleInboxChange(\"ImportantInbox\");\n        this.props.onNewInbox(\"ImportantInbox\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"button-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: \"200px\",\n        height: \"50px\"\n      },\n      variant: \"outlined\",\n      color: currentInbox === \"ImportantInbox\" ? \"primary\" : \"\",\n      startIcon: /*#__PURE__*/React.createElement(EmailIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 30\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }\n    }, \"Inbox\"))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/EmailClient/Spam\",\n      onClick: () => {\n        this.handleInboxChange(\"SpamInbox\");\n        this.props.onNewInbox(\"SpamInbox\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"button-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: \"200px\",\n        height: \"50px\"\n      },\n      variant: \"outlined\",\n      color: currentInbox === \"SpamInbox\" ? \"primary\" : \"\",\n      startIcon: /*#__PURE__*/React.createElement(ErrorIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 30\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 17\n      }\n    }, \"Spam\"))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/EmailClient/Bin\",\n      onClick: () => {\n        this.handleInboxChange(\"BinInbox\");\n        this.props.onNewInbox(\"BinInbox\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"button-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: \"150px\",\n        height: \"50px\"\n      },\n      variant: \"outlined\",\n      color: currentInbox === \"BinInbox\" ? \"primary\" : \"\",\n      startIcon: /*#__PURE__*/React.createElement(DeleteIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 30\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 17\n      }\n    }, \"Bin\"))))), inbox);\n  }\n\n}\n\nexport default EmailClient;","map":{"version":3,"sources":["/Users/Hedi/Documents/S/WS20:21/Study/src/components/emailClient.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","AllInbox","SpamInbox","BinInbox","ImportantInbox","Button","DeleteIcon","ErrorIcon","InboxIcon","EmailIcon","Inbox","Badge","ProfileBox","EmailClient","state","currentInbox","inbox","mailNrBadge","alerted","allInboxEmpty","mailTime","timeCount","shuffleArray","a","j","x","i","length","Math","floor","random","componentWillMount","copy","usersInbox","map","email","visible","push","setState","countEmails","getAllInboxLength","counter2","forEach","element","type","handleIncomingEvent","event","events","onMoveToSpam","emailID","mail","defaultProps","keyID","props","clickedButton","forceUpdate","onMoveToBin","onMoveToImportant","counter","unseen","alert","handleInboxChange","whichInbox","currentEmail","undefined","handleNewEmail","emailNr","onNewEmail","index","indexOf","updateInboxResult","updatedInbox","mailObject","mailTimeSpent","find","mailt","timeSpent","setInboxResult","countTime","existingMailTime","stateMail","componentDidMount","window","scrollTo","render","inEmailScrollAmount","UserInfo","emailAdress","userName","insideEmailInfo","inEmailText","outsideEmailInfo","onNewInbox","width","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport AllInbox from \"./allInbox\";\nimport SpamInbox from \"./spamInbox\";\nimport BinInbox from \"./binInbox\";\nimport ImportantInbox from \"./importantInbox\";\n\nimport Button from \"@material-ui/core/Button\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InboxIcon from \"@material-ui/icons/Inbox\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport Inbox from \"./emailsToImplement.js\";\nimport Badge from \"@material-ui/core/Badge\";\nimport \"./EmailClient.css\";\nimport ProfileBox from \"./ProfileBox\";\nclass EmailClient extends Component {\n  state = {\n    currentInbox: \"AllInbox\",\n    inbox: Inbox,\n    mailNrBadge: 0,\n    alerted: false,\n    allInboxEmpty: false,\n    mailTime: [],\n    timeCount: 0\n  };\n\n  //Fisher Yates Array shuffle algorithm\n  shuffleArray = (a) => {\n    var j, x, i;\n    for (i = a.length - 1; i > 0; i--) {\n      j = Math.floor(Math.random() * (i + 1));\n      x = a[i];\n      a[i] = a[j];\n      a[j] = x;\n    }\n    return a;\n  };\n\n  componentWillMount = () => {\n    let copy = this.state;\n    let usersInbox = [];\n\n    copy.inbox.map((email) => {\n      if (email.visible) usersInbox.push(email);\n    });\n\n    usersInbox.map((email) => {\n      email[\"type\"] = \"AllInbox\";\n    });\n\n    this.shuffleArray(usersInbox);\n    copy.inbox = usersInbox;\n    this.setState(copy);\n    this.countEmails();\n  };\n\n  getAllInboxLength = () => {\n    var counter2 = 0;\n    this.state.inbox.forEach((element) => {\n      if (element.type === \"AllInbox\") {\n        counter2++;\n      } else {\n        return;\n      }\n    });\n    if (counter2 === 0) {\n      let copy = this.state;\n      copy.allInboxEmpty = true;\n      this.setState(copy);\n    }\n  };\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  handleIncomingEvent = (event) => {\n    let copy = this.state;\n    copy.events.push(event);\n    this.setState(copy);\n  };\n\n  onMoveToSpam = (emailID) => {\n    let copy = this.state;\n    copy.inbox.map((email) => {\n      if (email.mail.defaultProps.keyID === emailID) email.type = \"SpamInbox\";\n    });\n    this.props.clickedButton(\"SpamInboxButtonClicked\", \"InMoveToSpamButton\");\n    this.setState(copy);\n    this.getAllInboxLength();\n    this.forceUpdate();\n  };\n\n  onMoveToBin = (emailID) => {\n    let copy = this.state;\n    copy.inbox.map((email) => {\n      if (email.mail.defaultProps.keyID === emailID) email.type = \"BinInbox\";\n    });\n    this.props.clickedButton(\"BinInboxButtonClicked\", \"InMoveToBinButton\");\n    this.setState(copy);\n    this.getAllInboxLength();\n    this.forceUpdate();\n  };\n\n  onMoveToImportant = (emailID) => {\n    let copy = this.state;\n    copy.inbox.map((email) => {\n      if (email.mail.defaultProps.keyID === emailID)\n        email.type = \"ImportantInbox\";\n    });\n    this.props.clickedButton(\n      \"ImportantInboxButtonClicked\",\n      \"InMoveToImportantButton\"\n    );\n    this.setState(copy);\n    this.getAllInboxLength();\n    this.forceUpdate();\n  };\n\n  countEmails = () => {\n    let counter = 0;\n    this.state.inbox.forEach((element) => {\n      counter =\n        element.mail.defaultProps.unseen === true ? counter + 1 : counter;\n    });\n    let copy = this.state;\n    copy.mailNrBadge = counter;\n\n    if (counter === 0 && this.state.alerted === false) {\n      alert(\"You have viewed all Emails\");\n      copy.alerted = true;\n    }\n\n    this.setState(copy);\n  };\n\n  handleInboxChange = (whichInbox) => {\n    let copy = this.state;\n    copy.currentInbox = whichInbox;\n    copy.currentEmail = undefined;\n    this.setState(copy);\n  };\n\n  handleNewEmail = (emailNr) => {\n    this.props.onNewEmail(emailNr);\n    this.state.inbox.forEach((element) => {\n      if (element.mail.defaultProps.keyID === emailNr) {\n        let index = this.state.inbox.indexOf(element);\n        let copy = this.state.inbox;\n        copy[index].mail.defaultProps.unseen = false;\n        this.setState({ inbox: copy });\n      }\n    });\n    this.countEmails();\n  };\n\n  // this method will bind the time spent on each mail with the Inbox state\n  updateInboxResult = () => {\n    const updatedInbox = this.state.inbox.map(mailObject => {\n      \n      const mailTimeSpent = this.state.mailTime.find(mailt => \n        mailObject.mail.defaultProps.keyID === mailt.keyID\n      )\n\n      if(mailTimeSpent){\n        return{\n            ...mailObject,\n            timeSpent: mailTimeSpent.timeSpent\n        }\n      }else{\n        return {\n          ...mailObject,\n          timeSpent: 0\n        }\n      }\n    })\n\n    // Now send it back to where it was previously sending i.e: to store on server\n    this.props.setInboxResult(updatedInbox)\n  }\n\n  // Count Time Spent\n  countTime = (mail) => {\n    const existingMailTime =  this.state.mailTime.find(stateMail => (\n      stateMail.keyID === mail.keyID\n    ))\n\n    if(existingMailTime){\n      // If an existing EMail is opened then continue from where previously left\n      this.setState(state => {\n        const mailTime = state.mailTime.map(stateMail => {\n          \n          if(stateMail.keyID === mail.keyID){\n            return {\n              ...stateMail,\n              timeSpent: stateMail.timeSpent + 1\n            }\n          }else{\n            return stateMail\n          }\n\n        });\n   \n        return {\n          mailTime,\n        };\n      })\n\n    }else{\n\n      // If a new EMail is opened\n      this.setState(state => ({\n        mailTime: [\n          ...state.mailTime,\n          {\n            keyID: mail.keyID,\n            timeSpent: state.timeCount + 1\n          }\n        ]\n      }))\n\n    }\n  }\n\n  render() {\n    const currentInbox = this.state.currentInbox;\n    let inbox;\n\n    if (currentInbox === \"BinInbox\") {\n      inbox = (\n        <BinInbox\n          inEmailScrollAmount={this.props.inEmailScrollAmount}\n          Mails={this.state.inbox}\n          onMoveToSpam={this.onMoveToSpam}\n          onMoveToBin={this.onMoveToBin}\n          onMoveToImportant={this.onMoveToImportant}\n          onNewEmail={this.handleNewEmail}\n          Recipient={this.props.UserInfo.emailAdress}\n          userName={this.props.UserInfo.userName}\n          insideEmailInfo={this.props.insideEmailInfo}\n          inEmailText={this.props.inEmailText}\n          outsideEmailInfo={this.props.outsideEmailInfo}\n        ></BinInbox>\n      );\n    } else if (currentInbox === \"AllInbox\") {\n      inbox = (\n        <AllInbox\n          inEmailScrollAmount={this.props.inEmailScrollAmount}\n          Mails={this.state.inbox}\n          onMoveToSpam={this.onMoveToSpam}\n          onMoveToBin={this.onMoveToBin}\n          onMoveToImportant={this.onMoveToImportant}\n          onNewEmail={this.handleNewEmail}\n          Recipient={this.props.UserInfo.emailAdress}\n          userName={this.props.UserInfo.userName}\n          insideEmailInfo={this.props.insideEmailInfo}\n          inEmailText={this.props.inEmailText}\n          outsideEmailInfo={this.props.outsideEmailInfo}\n          timeCount = {this.countTime}\n        ></AllInbox>\n      );\n    } else if (currentInbox === \"SpamInbox\") {\n      inbox = (\n        <SpamInbox\n          inEmailScrollAmount={this.props.inEmailScrollAmount}\n          Mails={this.state.inbox}\n          onMoveToSpam={this.onMoveToSpam}\n          onMoveToBin={this.onMoveToBin}\n          onMoveToImportant={this.onMoveToImportant}\n          onNewEmail={this.handleNewEmail}\n          Recipient={this.props.UserInfo.emailAdress}\n          userName={this.props.UserInfo.userName}\n          insideEmailInfo={this.props.insideEmailInfo}\n          inEmailText={this.props.inEmailText}\n          outsideEmailInfo={this.props.outsideEmailInfo}\n        ></SpamInbox>\n      );\n    } else if (currentInbox === \"ImportantInbox\") {\n      inbox = (\n        <ImportantInbox\n          inEmailScrollAmount={this.props.inEmailScrollAmount}\n          Mails={this.state.inbox}\n          onMoveToSpam={this.onMoveToSpam}\n          onMoveToBin={this.onMoveToBin}\n          onMoveToImportant={this.onMoveToImportant}\n          onNewEmail={this.handleNewEmail}\n          Recipient={this.props.UserInfo.emailAdress}\n          userName={this.props.UserInfo.userName}\n          insideEmailInfo={this.props.insideEmailInfo}\n          inEmailText={this.props.inEmailText}\n          outsideEmailInfo={this.props.outsideEmailInfo}\n        ></ImportantInbox>\n      );\n    }\n\n    return (\n      <div className=\"entireClient\">\n        <div className=\"HeaderInfo\">\n          <p>Welcome to your Email Client, {this.props.UserInfo.userName}</p>\n          <ProfileBox\n            className=\"ProfileBox\"\n            setInboxResult={() => this.updateInboxResult()}\n            allInboxEmpty={this.state.allInboxEmpty}\n          ></ProfileBox>\n        </div>\n        <nav className=\"nav-links\">\n          <ul>\n            <Link\n              to=\"/EmailClient/AllMails\"\n              onClick={() => {\n                this.handleInboxChange(\"AllInbox\");\n                this.props.onNewInbox(\"AllInbox\");\n              }}\n            >\n              <li className=\"button-links\">\n                <Badge badgeContent={this.state.mailNrBadge} color=\"error\">\n                  <Button\n                    style={{ width: \"200px\", height: \"50px\" }}\n                    variant=\"outlined\"\n                    color={currentInbox === \"AllInbox\" ? \"primary\" : \"\"}\n                    startIcon={<InboxIcon />}\n                  >\n                    All Mail\n                  </Button>\n                </Badge>\n              </li>\n            </Link>\n            <Link\n              to=\"/EmailClient/ImportantInbox\"\n              onClick={() => {\n                this.handleInboxChange(\"ImportantInbox\");\n                this.props.onNewInbox(\"ImportantInbox\");\n              }}\n            >\n              <li className=\"button-links\">\n                <Button\n                  style={{ width: \"200px\", height: \"50px\" }}\n                  variant=\"outlined\"\n                  color={currentInbox === \"ImportantInbox\" ? \"primary\" : \"\"}\n                  startIcon={<EmailIcon />}\n                >\n                  Inbox\n                </Button>\n              </li>\n            </Link>\n            <Link\n              to=\"/EmailClient/Spam\"\n              onClick={() => {\n                this.handleInboxChange(\"SpamInbox\");\n                this.props.onNewInbox(\"SpamInbox\");\n              }}\n            >\n              <li className=\"button-links\">\n                <Button\n                  style={{ width: \"200px\", height: \"50px\" }}\n                  variant=\"outlined\"\n                  color={currentInbox === \"SpamInbox\" ? \"primary\" : \"\"}\n                  startIcon={<ErrorIcon />}\n                >\n                  Spam\n                </Button>\n              </li>\n            </Link>\n            <Link\n              to=\"/EmailClient/Bin\"\n              onClick={() => {\n                this.handleInboxChange(\"BinInbox\");\n                this.props.onNewInbox(\"BinInbox\");\n              }}\n            >\n              <li className=\"button-links\">\n                <Button\n                  style={{ width: \"150px\", height: \"50px\" }}\n                  variant=\"outlined\"\n                  color={currentInbox === \"BinInbox\" ? \"primary\" : \"\"}\n                  startIcon={<DeleteIcon />}\n                >\n                  Bin\n                </Button>\n              </li>\n            </Link>\n          </ul>\n        </nav>\n        {inbox}\n      </div>\n    );\n  }\n}\n\nexport default EmailClient;\n"]},"metadata":{},"sourceType":"module"}