{"ast":null,"code":"var _jsxFileName = \"/Users/Hedi/Documents/S/WS20:21/Study/src/components/Tracker.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport EmailClient from \"./emailClient\";\n\nclass Tracker extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getUserID = () => {\n      const requestOptions = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      fetch(\"/connect\", requestOptions).then(response => response.json()).then(data => this.setState({\n        userId: data.userID\n      })).then(() => this.props.userID(this.state.userId));\n    };\n\n    this.getNickname = () => {\n      //set nickname from props\n      let nickname = this.props.userInfo.userName;\n      this.setState({\n        userNickname: nickname\n      });\n    };\n\n    this.startTracking = () => {\n      this.collectionInterval = setInterval(this.collectStates, 250);\n      this.sendingIntervall = setInterval(this.sendData, 5000);\n    };\n\n    this.sendData = () => {\n      //Send to Server\n      const data = this.stateCollector;\n      const response = fetch(\"/data\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(this.resetCollector);\n    };\n\n    this.sendAccurcyInfo = () => {\n      //Send to Server\n      const data = this.accuracyCollector;\n      const response = fetch(\"/accuracyInfo\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(console.log(\"sent accuracy info\"));\n    };\n\n    this.collectStates = () => {\n      this.setAllInfo();\n      this.fillCollector();\n      this.resetStates();\n    };\n\n    this.setAllInfo = () => {\n      this.settingsChecker();\n      this.setTimestamp();\n    };\n\n    this.setTimestamp = () => {\n      let currentTime = new Date();\n      let newDate = currentTime.getTime();\n      this.setState({\n        timeStamp: newDate\n      });\n    };\n\n    this.fillCollector = () => {\n      this.stateCollector.push(this.state);\n    };\n\n    this.resetCollector = () => {\n      this.stateCollector = [];\n    };\n\n    this.resetStates = () => {\n      this.setState({\n        click: false,\n        clickPosXTransform: 0,\n        clickPosYTransform: 0,\n        clickPosX: 0,\n        clickPosY: 0\n      });\n    };\n\n    this.settingsChecker = () => {\n      let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n      let height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n      let marginTop = window.screenTop;\n      let marginLeft = window.screenLeft;\n      let yScroll = Math.round(window.scrollY);\n      this.setState({\n        browserWidth: width,\n        browserHeight: height,\n        marginToScreenLeft: marginLeft,\n        marginToScreenTop: marginTop,\n        pageScrollY: yScroll\n      });\n      this.setTransformedMousePos(this.state.mousePosXPlain, this.state.mousePosYPlain);\n      this.setinEmailPositionY();\n    };\n\n    this.setinEmailPositionY = () => {\n      let inEmailPositionY = this.state.mousePosYPlain + this.state.inEmailScrollAmount;\n      this.setState({\n        inEmailPositionY: inEmailPositionY\n      });\n    };\n\n    this.SetInEmailScrollAmount = scrollAmount => {\n      let roundScrollAmount = Math.round(scrollAmount);\n      this.setState({\n        inEmailScrollAmount: roundScrollAmount\n      });\n    };\n\n    this.setTransformedMousePos = (x, y) => {\n      let clientWidth = 980;\n\n      if (x > this.state.browserWidth / 2 + clientWidth / 2) {\n        var xTran = (x - (this.state.browserWidth / 2 + clientWidth / 2)) * -1;\n        var yTran = y + this.state.pageScrollY;\n      } else {\n        var xTran = (this.state.browserWidth / 2 - clientWidth / 2 - x) * -1;\n        var yTran = y + this.state.pageScrollY;\n      }\n\n      this.setState({\n        mousePosXTransform: xTran,\n        mousePosYTransform: yTran\n      });\n    };\n\n    this.handleNewCurrentEmail = emailNr => {\n      let copy = this.state;\n      copy.currentEmail = emailNr;\n      this.setState(copy);\n    };\n\n    this.handleNewCurrentInbox = inboxType => {\n      let copy = this.state;\n      copy.currentInbox = inboxType;\n      copy.currentEmail = 0;\n      this.setState(copy);\n    };\n\n    this.handleInboxResult = finalInboxLocal => {\n      this.resultInbox.resultInbox = finalInboxLocal;\n      this.resultInbox.resultInbox.forEach(element => {\n        element.keyID = element.mail.defaultProps.keyID;\n        element.unseen = element.mail.defaultProps.unseen;\n      });\n      this.resultInbox.userID = this.state.userId;\n      this.sendFinalInbox();\n      this.startAccuracyTest();\n      clearInterval(this.collectionInterval);\n      clearInterval(this.sendingIntervall);\n    };\n\n    this.sendFinalInbox = () => {\n      //Send to Server\n      const data = this.resultInbox;\n      const response = fetch(\"/resultInbox\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(console.log(\"sent result Inbox\"));\n    };\n\n    this.startAccuracyTest = () => {\n      let copy = this.state;\n      copy.submitted = true;\n      this.setState(copy);\n    };\n\n    this.stopAccuracyTest = () => {\n      this.sendAccurcyInfo();\n      window.GazeCloudAPI.StopEyeTracking();\n      clearInterval(this.accuracyIntervall);\n    };\n\n    this.handleInsideEmailInfo = (InOrOutput, whichPart) => {\n      if (InOrOutput === true) {\n        let copy = this.state;\n\n        if (whichPart.includes(\"ClickedLink\")) {\n          copy.insideEmailInfo.push(whichPart);\n          const timerForClickedLink = setTimeout(() => {\n            this.deletefromInsideEmailInfo(whichPart);\n          }, 1000);\n          this.setState(copy);\n          this.sendData();\n          return;\n        }\n\n        if (!copy.insideEmailInfo.includes(whichPart)) {\n          copy.insideEmailInfo.push(whichPart);\n        } else {}\n\n        this.setState(copy);\n      } else {\n        this.deletefromInsideEmailInfo(whichPart);\n      }\n    };\n\n    this.handleOutsideEmailInfo = (InOrOutput, whichPart) => {\n      if (InOrOutput === true) {\n        let copy = this.state;\n        copy.outsideEmailInfo.push(whichPart);\n        this.setState(copy);\n      } else {\n        this.deletefromOutsideEmailInfo(whichPart);\n      }\n    };\n\n    this.deletefromInsideEmailInfo = whichToDelete => {\n      let copy = this.state;\n      const index = copy.insideEmailInfo.indexOf(whichToDelete);\n\n      if (index > -1) {\n        copy.insideEmailInfo.splice(index, 1);\n      }\n\n      this.setState(copy);\n    };\n\n    this.deletefromOutsideEmailInfo = whichToDelete => {\n      let copy = this.state;\n      const index = copy.outsideEmailInfo.indexOf(whichToDelete);\n\n      if (index > -1) {\n        copy.outsideEmailInfo.splice(index, 1);\n      }\n\n      this.setState(copy);\n    };\n\n    this.handleClickedInboxButton = (whichButton, insideWhichButton) => {\n      let copy = this.state;\n      copy.insideEmailInfo.push(whichButton);\n      this.setState(copy);\n      const timer2 = setTimeout(() => {\n        this.deletefromInsideEmailInfo(whichButton);\n      }, 1050);\n    };\n\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseClick = this.handleMouseClick.bind(this);\n    this.state = {\n      currentEmail: 0,\n      //event dependant\n      currentInbox: \"AllInbox\",\n      insideEmailInfo: [],\n      outsideEmailInfo: [],\n      //event dependant\n      mousePosXPlain: 0,\n      mousePosYPlain: 0,\n      mousePosXTransform: 0,\n      mousePosYTransform: 0,\n      click: false,\n      clickPosXTransform: 0,\n      clickPosYTransform: 0,\n      clickPosX: 0,\n      clickPosY: 0,\n      timeStamp: 0,\n      userId: 0,\n      userNickname: \"\",\n      pageScrollY: 0,\n      browserWidth: 0,\n      browserHeight: 0,\n      marginToScreenTop: 0,\n      marginToScreenLeft: 0,\n      inEmailScrollAmount: 0,\n      inEmailPositionY: 0,\n      submitted: false\n    };\n    this.resultInbox = {\n      resultInbox: [],\n      userID: 0\n    };\n    this.stateCollector = [];\n    this.collectionInterval = undefined;\n    this.sendingInterval = undefined;\n    this.accuracyCollector = [];\n    this.accuracyIntervall = undefined;\n    this.collectingAccuracy = false;\n  }\n\n  componentDidMount() {\n    this.getUserID();\n    this.getNickname();\n    this.props.userID(this.state.userId);\n  }\n\n  handleMouseMove(event) {\n    let x = event.clientX;\n    let y = event.clientY;\n    this.setState({\n      mousePosXPlain: x,\n      mousePosYPlain: y\n    });\n  }\n\n  handleMouseClick(event) {\n    let copy = this.state;\n    this.handleMouseMove(event);\n    this.setTransformedMousePos(this.state.mousePosXPlain, this.state.mousePosYPlain);\n    copy.click = true;\n    copy.clickPosX = this.state.mousePosXPlain;\n    copy.clickPosY = this.state.mousePosYPlain;\n    this.setState(copy);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 7\n      }\n    }, this.state.submitted === false ? /*#__PURE__*/React.createElement(\"div\", {\n      onMouseMove: this.handleMouseMove,\n      onClick: this.handleMouseClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(EmailClient, {\n      clickedButton: this.handleClickedInboxButton,\n      inEmailScrollAmount: this.SetInEmailScrollAmount,\n      UserInfo: this.props.userInfo,\n      onNewEmail: this.handleNewCurrentEmail,\n      onNewInbox: this.handleNewCurrentInbox,\n      setInboxResult: this.handleInboxResult,\n      insideEmailInfo: this.handleInsideEmailInfo,\n      outsideEmailInfo: this.handleOutsideEmailInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/SurveyComponent\",\n      activeClassName: \"active\",\n      style: {\n        width: \"380px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      style: {\n        backgroundColor: \"#04B45F\",\n        margin: \"10px\"\n      },\n      onClick: this.props.sendAccuracyData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }\n    }), \"Go To Survey\"))));\n  }\n\n}\n\nexport default Tracker;","map":{"version":3,"sources":["/Users/Hedi/Documents/S/WS20:21/Study/src/components/Tracker.js"],"names":["React","Component","Link","Button","ExitToAppIcon","EmailClient","Tracker","constructor","props","getUserID","requestOptions","method","headers","fetch","then","response","json","data","setState","userId","userID","state","getNickname","nickname","userInfo","userName","userNickname","startTracking","collectionInterval","setInterval","collectStates","sendingIntervall","sendData","stateCollector","Accept","body","JSON","stringify","resetCollector","sendAccurcyInfo","accuracyCollector","console","log","setAllInfo","fillCollector","resetStates","settingsChecker","setTimestamp","currentTime","Date","newDate","getTime","timeStamp","push","click","clickPosXTransform","clickPosYTransform","clickPosX","clickPosY","width","window","innerWidth","document","documentElement","clientWidth","height","innerHeight","clientHeight","marginTop","screenTop","marginLeft","screenLeft","yScroll","Math","round","scrollY","browserWidth","browserHeight","marginToScreenLeft","marginToScreenTop","pageScrollY","setTransformedMousePos","mousePosXPlain","mousePosYPlain","setinEmailPositionY","inEmailPositionY","inEmailScrollAmount","SetInEmailScrollAmount","scrollAmount","roundScrollAmount","x","y","xTran","yTran","mousePosXTransform","mousePosYTransform","handleNewCurrentEmail","emailNr","copy","currentEmail","handleNewCurrentInbox","inboxType","currentInbox","handleInboxResult","finalInboxLocal","resultInbox","forEach","element","keyID","mail","defaultProps","unseen","sendFinalInbox","startAccuracyTest","clearInterval","submitted","stopAccuracyTest","GazeCloudAPI","StopEyeTracking","accuracyIntervall","handleInsideEmailInfo","InOrOutput","whichPart","includes","insideEmailInfo","timerForClickedLink","setTimeout","deletefromInsideEmailInfo","handleOutsideEmailInfo","outsideEmailInfo","deletefromOutsideEmailInfo","whichToDelete","index","indexOf","splice","handleClickedInboxButton","whichButton","insideWhichButton","timer2","handleMouseMove","bind","handleMouseClick","undefined","sendingInterval","collectingAccuracy","componentDidMount","event","clientX","clientY","render","display","justifyContent","backgroundColor","margin","sendAccuracyData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport EmailClient from \"./emailClient\";\r\n\r\nclass Tracker extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    this.handleMouseClick = this.handleMouseClick.bind(this);\r\n    this.state = {\r\n      currentEmail: 0, //event dependant\r\n      currentInbox: \"AllInbox\",\r\n      insideEmailInfo: [],\r\n      outsideEmailInfo: [], //event dependant\r\n      mousePosXPlain: 0,\r\n      mousePosYPlain: 0,\r\n      mousePosXTransform: 0,\r\n      mousePosYTransform: 0,\r\n      click: false,\r\n      clickPosXTransform: 0,\r\n      clickPosYTransform: 0,\r\n      clickPosX: 0,\r\n      clickPosY: 0,\r\n      timeStamp: 0,\r\n      userId: 0,\r\n      userNickname: \"\",\r\n      pageScrollY: 0,\r\n      browserWidth: 0,\r\n      browserHeight: 0,\r\n      marginToScreenTop: 0,\r\n      marginToScreenLeft: 0,\r\n      inEmailScrollAmount: 0,\r\n      inEmailPositionY: 0,\r\n\r\n      submitted: false,\r\n    };\r\n\r\n    this.resultInbox = { resultInbox: [], userID: 0 };\r\n    this.stateCollector = [];\r\n    this.collectionInterval = undefined;\r\n    this.sendingInterval = undefined;\r\n    this.accuracyCollector = [];\r\n    this.accuracyIntervall = undefined;\r\n    this.collectingAccuracy = false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUserID();\r\n    this.getNickname();\r\n    this.props.userID(this.state.userId);\r\n  }\r\n\r\n  getUserID = () => {\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    };\r\n\r\n    fetch(\"/connect\", requestOptions)\r\n      .then((response) => response.json())\r\n      .then((data) => this.setState({ userId: data.userID }))\r\n      .then(() => this.props.userID(this.state.userId));\r\n  };\r\n\r\n  getNickname = () => {\r\n    //set nickname from props\r\n    let nickname = this.props.userInfo.userName;\r\n    this.setState({ userNickname: nickname });\r\n  };\r\n\r\n  startTracking = () => {\r\n    this.collectionInterval = setInterval(this.collectStates, 250);\r\n    this.sendingIntervall = setInterval(this.sendData, 5000);\r\n  };\r\n\r\n  sendData = () => {\r\n    //Send to Server\r\n    const data = this.stateCollector;\r\n    const response = fetch(\"/data\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    }).then(this.resetCollector);\r\n  };\r\n\r\n  sendAccurcyInfo = () => {\r\n    //Send to Server\r\n    const data = this.accuracyCollector;\r\n    const response = fetch(\"/accuracyInfo\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    }).then(console.log(\"sent accuracy info\"));\r\n  };\r\n\r\n  collectStates = () => {\r\n    this.setAllInfo();\r\n    this.fillCollector();\r\n    this.resetStates();\r\n  };\r\n\r\n  setAllInfo = () => {\r\n    this.settingsChecker();\r\n    this.setTimestamp();\r\n  };\r\n\r\n  setTimestamp = () => {\r\n    let currentTime = new Date();\r\n    let newDate = currentTime.getTime();\r\n    this.setState({ timeStamp: newDate });\r\n  };\r\n\r\n  fillCollector = () => {\r\n    this.stateCollector.push(this.state);\r\n  };\r\n\r\n  resetCollector = () => {\r\n    this.stateCollector = [];\r\n  };\r\n\r\n  resetStates = () => {\r\n    this.setState({\r\n      click: false,\r\n      clickPosXTransform: 0,\r\n      clickPosYTransform: 0,\r\n      clickPosX: 0,\r\n      clickPosY: 0,\r\n    });\r\n  };\r\n\r\n  handleMouseMove(event) {\r\n    let x = event.clientX;\r\n    let y = event.clientY;\r\n    this.setState({ mousePosXPlain: x, mousePosYPlain: y });\r\n  }\r\n\r\n  settingsChecker = () => {\r\n    let width =\r\n      window.innerWidth ||\r\n      document.documentElement.clientWidth ||\r\n      document.body.clientWidth;\r\n\r\n    let height =\r\n      window.innerHeight ||\r\n      document.documentElement.clientHeight ||\r\n      document.body.clientHeight;\r\n\r\n    let marginTop = window.screenTop;\r\n    let marginLeft = window.screenLeft;\r\n\r\n    let yScroll = Math.round(window.scrollY);\r\n\r\n    this.setState({\r\n      browserWidth: width,\r\n      browserHeight: height,\r\n      marginToScreenLeft: marginLeft,\r\n      marginToScreenTop: marginTop,\r\n      pageScrollY: yScroll,\r\n    });\r\n\r\n    this.setTransformedMousePos(\r\n      this.state.mousePosXPlain,\r\n      this.state.mousePosYPlain\r\n    );\r\n\r\n    this.setinEmailPositionY();\r\n  };\r\n\r\n  setinEmailPositionY = () => {\r\n    let inEmailPositionY =\r\n      this.state.mousePosYPlain + this.state.inEmailScrollAmount;\r\n    this.setState({ inEmailPositionY: inEmailPositionY });\r\n  };\r\n\r\n  SetInEmailScrollAmount = (scrollAmount) => {\r\n    let roundScrollAmount = Math.round(scrollAmount);\r\n    this.setState({ inEmailScrollAmount: roundScrollAmount });\r\n  };\r\n\r\n  setTransformedMousePos = (x, y) => {\r\n    let clientWidth = 980;\r\n    if (x > this.state.browserWidth / 2 + clientWidth / 2) {\r\n      var xTran = (x - (this.state.browserWidth / 2 + clientWidth / 2)) * -1;\r\n      var yTran = y + this.state.pageScrollY;\r\n    } else {\r\n      var xTran = (this.state.browserWidth / 2 - clientWidth / 2 - x) * -1;\r\n      var yTran = y + this.state.pageScrollY;\r\n    }\r\n    this.setState({ mousePosXTransform: xTran, mousePosYTransform: yTran });\r\n  };\r\n\r\n  handleMouseClick(event) {\r\n    let copy = this.state;\r\n    this.handleMouseMove(event);\r\n    this.setTransformedMousePos(\r\n      this.state.mousePosXPlain,\r\n      this.state.mousePosYPlain\r\n    );\r\n    copy.click = true;\r\n    copy.clickPosX = this.state.mousePosXPlain;\r\n    copy.clickPosY = this.state.mousePosYPlain;\r\n    this.setState(copy);\r\n  }\r\n\r\n  handleNewCurrentEmail = (emailNr) => {\r\n    let copy = this.state;\r\n    copy.currentEmail = emailNr;\r\n    this.setState(copy);\r\n  };\r\n\r\n  handleNewCurrentInbox = (inboxType) => {\r\n    let copy = this.state;\r\n    copy.currentInbox = inboxType;\r\n    copy.currentEmail = 0;\r\n    this.setState(copy);\r\n  };\r\n\r\n  handleInboxResult = (finalInboxLocal) => {\r\n    this.resultInbox.resultInbox = finalInboxLocal;\r\n    this.resultInbox.resultInbox.forEach((element) => {\r\n      element.keyID = element.mail.defaultProps.keyID;\r\n      element.unseen = element.mail.defaultProps.unseen;\r\n    });\r\n    this.resultInbox.userID = this.state.userId;\r\n    this.sendFinalInbox();\r\n    this.startAccuracyTest();\r\n    clearInterval(this.collectionInterval);\r\n    clearInterval(this.sendingIntervall);\r\n  };\r\n\r\n  sendFinalInbox = () => {\r\n    //Send to Server\r\n\r\n    const data = this.resultInbox;\r\n    const response = fetch(\"/resultInbox\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    }).then(console.log(\"sent result Inbox\"));\r\n  };\r\n\r\n  startAccuracyTest = () => {\r\n    let copy = this.state;\r\n    copy.submitted = true;\r\n    this.setState(copy);\r\n  };\r\n\r\n  stopAccuracyTest = () => {\r\n    this.sendAccurcyInfo();\r\n    window.GazeCloudAPI.StopEyeTracking();\r\n    clearInterval(this.accuracyIntervall);\r\n  };\r\n\r\n  handleInsideEmailInfo = (InOrOutput, whichPart) => {\r\n    if (InOrOutput === true) {\r\n      let copy = this.state;\r\n      if (whichPart.includes(\"ClickedLink\")) {\r\n        copy.insideEmailInfo.push(whichPart);\r\n        const timerForClickedLink = setTimeout(() => {\r\n          this.deletefromInsideEmailInfo(whichPart);\r\n        }, 1000);\r\n        this.setState(copy);\r\n        this.sendData();\r\n        return;\r\n      }\r\n      if (!copy.insideEmailInfo.includes(whichPart)) {\r\n        copy.insideEmailInfo.push(whichPart);\r\n      } else {\r\n      }\r\n      this.setState(copy);\r\n    } else {\r\n      this.deletefromInsideEmailInfo(whichPart);\r\n    }\r\n  };\r\n\r\n  handleOutsideEmailInfo = (InOrOutput, whichPart) => {\r\n    if (InOrOutput === true) {\r\n      let copy = this.state;\r\n      copy.outsideEmailInfo.push(whichPart);\r\n      this.setState(copy);\r\n    } else {\r\n      this.deletefromOutsideEmailInfo(whichPart);\r\n    }\r\n  };\r\n\r\n  deletefromInsideEmailInfo = (whichToDelete) => {\r\n    let copy = this.state;\r\n    const index = copy.insideEmailInfo.indexOf(whichToDelete);\r\n    if (index > -1) {\r\n      copy.insideEmailInfo.splice(index, 1);\r\n    }\r\n    this.setState(copy);\r\n  };\r\n\r\n  deletefromOutsideEmailInfo = (whichToDelete) => {\r\n    let copy = this.state;\r\n    const index = copy.outsideEmailInfo.indexOf(whichToDelete);\r\n    if (index > -1) {\r\n      copy.outsideEmailInfo.splice(index, 1);\r\n    }\r\n    this.setState(copy);\r\n  };\r\n\r\n  handleClickedInboxButton = (whichButton, insideWhichButton) => {\r\n    let copy = this.state;\r\n    copy.insideEmailInfo.push(whichButton);\r\n    this.setState(copy);\r\n\r\n    const timer2 = setTimeout(() => {\r\n      this.deletefromInsideEmailInfo(whichButton);\r\n    }, 1050);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.submitted === false ? (\r\n          <div\r\n            onMouseMove={this.handleMouseMove}\r\n            onClick={this.handleMouseClick}\r\n          >\r\n            <EmailClient\r\n              clickedButton={this.handleClickedInboxButton}\r\n              inEmailScrollAmount={this.SetInEmailScrollAmount}\r\n              UserInfo={this.props.userInfo}\r\n              onNewEmail={this.handleNewCurrentEmail}\r\n              onNewInbox={this.handleNewCurrentInbox}\r\n              setInboxResult={this.handleInboxResult}\r\n              insideEmailInfo={this.handleInsideEmailInfo}\r\n              outsideEmailInfo={this.handleOutsideEmailInfo}\r\n            ></EmailClient>\r\n          </div>\r\n        ) : (\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <Link\r\n              to=\"/SurveyComponent\"\r\n              activeClassName=\"active\"\r\n              style={{ width: \"380px\" }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                style={{ backgroundColor: \"#04B45F\", margin: \"10px\" }}\r\n                onClick={this.props.sendAccuracyData}\r\n              >\r\n                <ExitToAppIcon></ExitToAppIcon>Go To Survey\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tracker;\r\n"]},"metadata":{},"sourceType":"module"}